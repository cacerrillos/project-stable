<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../signup-page/signup-page.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../signup-page/signup-form.html">

<dom-module id="stable-app">
  <template>
    <style include="iron-flex iron-flex-alignment">
      :host {
        display: block;
      }
      .center {
        margin-left: auto;
        margin-right: auto;
      }
      .container {
        margin: 10px;
      }
      .content {
        padding: 16px;
        max-width: 720px;
        margin-left: auto;
        margin-right: auto;
      }
    </style>
    <iron-ajax
      
      url="[[_computeAPI('/dates')]]"
      handle-as="json"
      last-response="{{dates}}"></iron-ajax>
    <iron-ajax
      
      url="[[_computeAPI('/blocks')]]"
      handle-as="json"
      last-response="{{blocks}}"></iron-ajax>
    <iron-ajax
      
      url="[[_computeAPI('/presentations')]]"
      handle-as="json"
      last-response="{{presentations}}"></iron-ajax>
    <iron-ajax
      auto
      url="[[_computeAPI('/houses')]]"
      handle-as="json"
      last-response="{{houses}}"></iron-ajax>
    <iron-ajax
      auto
      url="[[_computeAPI('/grades')]]"
      handle-as="json"
      last-response="{{grades}}"></iron-ajax>
    
    <paper-drawer-panel force-narrow>
      <paper-header-panel drawer>
        <paper-toolbar>
          <div>Project Stable</div>
        </paper-toolbar>
        <div>
          

        </div>
      </paper-header-panel>
      <paper-header-panel main>
        <paper-toolbar>
          <paper-icon-button icon="icons:menu" paper-drawer-toggle></paper-icon-button>
          <div>Project Stable</div>
        </paper-toolbar>
        <div class="container">
          <div class="content">
            <signup-form id="signupForm" houses="[[houses]]" grades="[[grades]]"></signup-form>
            <!-- <signup-page
              dates="[[dates]]"
              blocks="[[blocks]]"
              presentations="[[presentations]]"
              ></signup-page> -->
          </div>
        </div>
      </paper-header-panel>
    </paper-drawer-panel>
    
    <!-- <sample-content size="10"></sample-content> -->
    <!-- <signup-page
      dates="[[dates]]"
      blocks="[[blocks]]"
      presentations="[[presentations]]"
      ></signup-page> -->
  </template>
  <script>
    Polymer({

      is: 'stable-app',

      properties: {
        dates: {
          type: Array
        },
        blocks: {
          type: Object
        },
        presentations: {
          type: Object
        },
        house: {
          type: Object
        },
        grades: {
          type: Object
        }
      },
      _computeAPI: function (path) {
        var apiRootPath = 'https://4n5e3ppiq7.execute-api.us-east-2.amazonaws.com/v1';
        return apiRootPath + path;
      },
      handleResponse: function(e) {
        console.log(e.detail.response);
      },
      tog: function(e) {
        this.$.drawer.toggle();
      }
    });
  </script>
</dom-module>
