<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>Project Stable</title>
    <meta name="description" content="Project Stable description">

    <!-- See https://goo.gl/OOhYW5 -->
    <link rel="manifest" href="/manifest.json">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>
    <script>
      StableBehavior = {
        _computeAPI: function (path) {
          switch(path) {
            case '/houses':
              return '/houses.json';
            case '/grades':
              return '/grades.json';
            case '/dates':
              return '/dates.json';
            case '/blocks':
              return '/blocks.json';
          }
          var apiRootPath = 'https://4n5e3ppiq7.execute-api.us-east-2.amazonaws.com/v1';
          return apiRootPath + path;
        },
        _objToArray: function(obj) {
          if(obj)
            return Object.keys(obj).map(function (key) { return obj[key]; });
          return [];
        },
        _parseDate: function(e) {
          var str = e.toString();
          console.log(str);

          if(!/^(\d){8}$/.test(str))
            return "Invalid date!";

          var y = str.substr(0,4),
              m = str.substr(4,2),
              d = str.substr(6,2);
              console.log(y + " " + m + " " + d);
          return new Date(y,parseInt(m) - 1,d).toDateString();
        },
        _getAttrFromObj: function(key, attr, obj) {
          if(obj && obj[key] && obj[key][attr]) {
            return obj[key][attr];
          }
          return "error";
        }
      };
    </script>

    <link rel="import" href="src/stable-app/stable-app.html">
    <style type="text/css">
      body {
        font-family: 'Roboto', sans-serif;
        background-color: #f0f0f0;
        margin: 0;
      }
    </style>
<!--      <script src="/bower_components/skel/dist/skel.min.js"></script>
    <script src="/bower_components/skel/dist/skel-layout.min.js"></script>
    <script type="text/javascript">
      skel.layout({
          reset: "normalize",
          grid: true,
          containers: true
      });
    </script> -->
  </head>
  <body unresolved>
    <stable-app></stable-app>
  </body>
</html>
